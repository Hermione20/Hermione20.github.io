<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>写在前面</title>
    <link href="/2024/10/14/%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2/"/>
    <url>/2024/10/14/%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2/</url>
    
    <content type="html"><![CDATA[<p>1.不定时更新</p><p>2.博文均为学习+实践过程记录，抑或是发癫级别分享</p><p>3.感谢赞助，欢迎留言！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第十二课 人脸检测</title>
    <link href="/2024/10/14/%E7%AC%AC12%E8%AF%BE%20%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B/"/>
    <url>/2024/10/14/%E7%AC%AC12%E8%AF%BE%20%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B/</url>
    
    <content type="html"><![CDATA[<p>涉及模块objdetect:Object Detection</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">cv</span>::CascadeClassifier<br></code></pre></td></tr></table></figure><p>用于对象检测的级联分类器类。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">load</span> <span class="hljs-params">(<span class="hljs-type">const</span> String &amp;filename)</span></span><br></code></pre></td></tr></table></figure><p>从文件加载分类器。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br></code></pre></td></tr></table></figure><p>检查分类器是否已加载。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">detectMultiScale</span><span class="hljs-params">(InputArray image, std::vector&lt;Rect&gt; &amp;objects, <span class="hljs-type">double</span> scaleFactor=<span class="hljs-number">1.1</span>, <span class="hljs-type">int</span> minNeighbors=<span class="hljs-number">3</span>, <span class="hljs-type">int</span> flags=<span class="hljs-number">0</span>, Size minSize=Size(), Size maxSize=Size())</span></span><br></code></pre></td></tr></table></figure><p>检测输入图像中不同大小的对象。检测到的对象作为矩形列表返回。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/objdetect.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>string path = <span class="hljs-string">&quot;face.pgm&quot;</span>;<br>Mat img = <span class="hljs-built_in">imread</span>(path);<br><br>CascadeClassifier faceCascade;<br>    CascadeClassifier eyeCascade;<br>faceCascade.<span class="hljs-built_in">load</span>(<span class="hljs-string">&quot;haarcascade_frontalface_default.xml&quot;</span>);<br>    eyeCascade.<span class="hljs-built_in">load</span>(<span class="hljs-string">&quot;haarcascade_eye.xml&quot;</span>);<br><br><span class="hljs-keyword">if</span> (faceCascade.<span class="hljs-built_in">empty</span>()) &#123; cout &lt;&lt; <span class="hljs-string">&quot;XML file not loaded&quot;</span> &lt;&lt; endl; &#125;<br>    <span class="hljs-keyword">if</span> (eyeCascade.<span class="hljs-built_in">empty</span>()) &#123; cout &lt;&lt; <span class="hljs-string">&quot;XML file not loaded&quot;</span> &lt;&lt; endl; &#125;<br>vector&lt;Rect&gt; faces;<br>    vector&lt;Rect&gt; eyes;<br>faceCascade.<span class="hljs-built_in">detectMultiScale</span>(img, faces, <span class="hljs-number">1.1</span>, <span class="hljs-number">10</span>);<br>    eyeCascade.<span class="hljs-built_in">detectMultiScale</span>(img, eyes, <span class="hljs-number">1.1</span>, <span class="hljs-number">10</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; faces.<span class="hljs-built_in">size</span>(); i++) <br>&#123;<br><span class="hljs-built_in">rectangle</span>(img, faces[i].<span class="hljs-built_in">tl</span>(), faces[i].<span class="hljs-built_in">br</span>(), <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">3</span>);<br>&#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; eyes.<span class="hljs-built_in">size</span>(); i++) <br>&#123;<br><span class="hljs-built_in">rectangle</span>(img, eyes[i].<span class="hljs-built_in">tl</span>(), eyes[i].<span class="hljs-built_in">br</span>(), <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>), <span class="hljs-number">3</span>);<br>&#125;<br><br><span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br><span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第十一课 轮廓检测</title>
    <link href="/2024/10/14/%E7%AC%AC11%E8%AF%BE%20%E8%BD%AE%E5%BB%93%E6%A3%80%E6%B5%8B/"/>
    <url>/2024/10/14/%E7%AC%AC11%E8%AF%BE%20%E8%BD%AE%E5%BB%93%E6%A3%80%E6%B5%8B/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::findContours</span><span class="hljs-params">(InputOutputArray image, OutputArrayOfArrays contours, OutputArray hierarchy, <span class="hljs-type">int</span> mode, <span class="hljs-type">int</span> method, Point offset = Point())</span></span><br></code></pre></td></tr></table></figure><p>在二值图像中查找轮廓。从OpenCV3.2开始源图像不会这个函数被修改。</p><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>image</td><td>二值输入图像</td></tr><tr><td>contours</td><td>检测到的轮廓，每个轮廓都存储为点向量（例如 std::vector&lt;std::vector<a href="cv::Point">cv::Point</a> &gt;）</td></tr><tr><td>hierarchy</td><td>可选的输出向量（例如 std::vector<a href="cv::Vec4i">cv::Vec4i</a>），包含有关图像拓扑的信息</td></tr><tr><td>mode</td><td>轮廓检索模式</td></tr><tr><td>method</td><td>轮廓近似方式</td></tr><tr><td>offset</td><td>每个轮廓点移动的可选偏移量</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">cv::contourArea</span><span class="hljs-params">(InputArray contour, <span class="hljs-type">bool</span> oriented=<span class="hljs-literal">false</span>)</span></span><br></code></pre></td></tr></table></figure><p>计算轮廓区域</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">cv::arcLength</span><span class="hljs-params">(InputArray curve, <span class="hljs-type">bool</span> closed)</span></span><br></code></pre></td></tr></table></figure><p>计算曲线长度或闭合轮廓周长</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::approxPolyDP</span><span class="hljs-params">(InputArray curve, OutputArray approxCurve, <span class="hljs-type">double</span> epsilon, <span class="hljs-type">bool</span> closed)</span></span><br></code></pre></td></tr></table></figure><p>函数cv::approxPolyDP用另一个具有较少顶点的曲线&#x2F;多边形来逼近一条曲线或多边形，以使它们之间的距离小于或等于指定的精度。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">Rect <span class="hljs-title">cv::boundingRect</span><span class="hljs-params">(InputArray array)</span></span><br></code></pre></td></tr></table></figure><p>计算并返回指定点集或灰度图像非零像素的最小上边界矩形。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::drawContours</span><span class="hljs-params">(InputOutputArray image, InputArrayOfArrays contours, <span class="hljs-type">int</span> contourIdx, <span class="hljs-type">const</span> Scalar &amp;color, <span class="hljs-type">int</span> thickness = <span class="hljs-number">1</span>, <span class="hljs-type">int</span> lineType = LINE_8, InputArray hierarchy = noArray(), <span class="hljs-type">int</span> maxLevel = INT_MAX, Point offset = Point())</span></span><br></code></pre></td></tr></table></figure><p>绘制轮廓轮廓或填充轮廓。如果厚度≥0，该函数在图像中绘制轮廓轮廓，如果厚度&lt;0，则填充轮廓所包围的区域。</p><p>Point_&lt; _Tp &gt; tl() const<br>     左上角</p><p>Point_&lt; _Tp &gt; br() const<br>     右下角</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//rect</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _Tp&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">cv</span>::Rect_&lt; _Tp &gt;<br><span class="hljs-keyword">typedef</span> Rect_&lt;<span class="hljs-type">int</span>&gt; cv::Rect2i<br><span class="hljs-keyword">typedef</span> Rect2i cv::Rect<br><span class="hljs-comment">//point</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _Tp&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">cv</span>::Point_&lt; _Tp &gt;<br><span class="hljs-keyword">typedef</span> Point_&lt;<span class="hljs-type">int</span>&gt; cv::Point2i<br><span class="hljs-keyword">typedef</span> Point2i cv::Point<br></code></pre></td></tr></table></figure><table><thead><tr><th>cv::Rect_&lt; _Tp &gt;类属性</th><th>含义</th></tr></thead><tbody><tr><td>height</td><td>矩形高度</td></tr><tr><td>width</td><td>矩形宽度</td></tr><tr><td>x</td><td>左上角的 x 坐标</td></tr><tr><td>y</td><td>左上角的 y 坐标</td></tr></tbody></table><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getContours</span><span class="hljs-params">(Mat imgDil, Mat img)</span> </span>&#123;<br><br>vector&lt;vector&lt;Point&gt;&gt; contours; <span class="hljs-comment">//轮廓点集</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    vector&lt;Point&gt;: 这是一个动态数组，用于存储轮廓线上的点。</span><br><span class="hljs-comment">    每个点都是一个 Point 对象，通常包含图像中某个轮廓线上的像素点的坐标。</span><br><span class="hljs-comment">    vector&lt;vector&lt;Point&gt;&gt;: 这是一个二维向量，其中每个元素都是一个 vector&lt;Point&gt;。</span><br><span class="hljs-comment">    这种结构允许你存储多个轮廓，每个轮廓由一系列点组成。</span><br><span class="hljs-comment">    */</span><br>vector&lt;Vec4i&gt; hierarchy;<span class="hljs-comment">//轮廓层次结构</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    Vec4i 是 OpenCV 中的一个模板类，用于存储四个整数值。</span><br><span class="hljs-comment">    在轮廓处理中，每个 Vec4i 通常表示一个轮廓的四个点的索引，</span><br><span class="hljs-comment">    这些索引指向一个更大的数组（通常是 vector&lt;Point&gt;），</span><br><span class="hljs-comment">    该数组包含了实际的点坐标。</span><br><span class="hljs-comment">    vector&lt;Vec4i&gt; 用来存储多个这样的 Vec4i 对象。</span><br><span class="hljs-comment">    在轮廓检测中，一个图像可能包含多个轮廓，每个轮廓由多个点组成。</span><br><span class="hljs-comment">    每个轮廓的点索引存储在一个 Vec4i 中，</span><br><span class="hljs-comment">    而所有的轮廓则存储在 vector&lt;Vec4i&gt; 中。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    层次结构 (hierarchy)</span><br><span class="hljs-comment">    hierarchy 数组包含了轮廓之间的层次关系。</span><br><span class="hljs-comment">    每个元素 Vec4i 包含四个值，分别表示：</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    Next：当前轮廓的下一个轮廓的索引（在 contours 中）。</span><br><span class="hljs-comment">    Previous：当前轮廓的前一个轮廓的索引。</span><br><span class="hljs-comment">    First Child：当前轮廓的第一个子轮廓的索引。</span><br><span class="hljs-comment">    Parent：当前轮廓的父轮廓的索引。</span><br><span class="hljs-comment">    这些信息可以用来理解轮廓之间的父子关系，</span><br><span class="hljs-comment">    例如，哪些轮廓是另一个轮廓的子轮廓，或者哪些轮廓是兄弟轮廓。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    这种层次结构信息在处理复杂的图像结构时非常有用，</span><br><span class="hljs-comment">    比如在图像分割、对象识别和图像分析中。</span><br><span class="hljs-comment">    */</span><br><br><span class="hljs-built_in">findContours</span>(imgDil, contours, hierarchy, RETR_EXTERNAL, CHAIN_APPROX_SIMPLE); <span class="hljs-comment">//通过预处理的二值图像找到所有轮廓contours</span><br><span class="hljs-comment">//drawContours(img, contours, -1, Scalar(255, 0, 255), 2); //绘制所有轮廓</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; contours.<span class="hljs-built_in">size</span>(); i++) <br>&#123;<br><span class="hljs-type">double</span> area = <span class="hljs-built_in">contourArea</span>(contours[i]); <span class="hljs-comment">//计算每个轮廓区域</span><br>cout &lt;&lt; area &lt;&lt; endl;<br><br>vector&lt;vector&lt;Point&gt;&gt; <span class="hljs-built_in">conPoly</span>(contours.<span class="hljs-built_in">size</span>());<span class="hljs-comment">//大小与已检测到的轮廓数量相同。每个元素都是一个 vector&lt;Point&gt;，用于存储每个轮廓的多边形近似。</span><br><span class="hljs-function">vector&lt;Rect&gt; <span class="hljs-title">boundRect</span><span class="hljs-params">(contours.size())</span></span>;<span class="hljs-comment">//大小也与轮廓数量相同。每个元素是一个 Rect 对象，用于存储每个轮廓的边界矩形。</span><br>string objectType;<br><br><span class="hljs-keyword">if</span> (area &gt; <span class="hljs-number">1000</span>) <span class="hljs-comment">//过滤噪声</span><br>&#123;<br><span class="hljs-comment">//找轮廓的近似多边形或曲线</span><br><span class="hljs-type">double</span> peri = <span class="hljs-built_in">arcLength</span>(contours[i], <span class="hljs-literal">true</span>);<br><span class="hljs-built_in">approxPolyDP</span>(contours[i], conPoly[i], <span class="hljs-number">0.02</span> * peri, <span class="hljs-literal">true</span>);<br><br>cout &lt;&lt; conPoly[i].<span class="hljs-built_in">size</span>() &lt;&lt; endl;<br>boundRect[i] = <span class="hljs-built_in">boundingRect</span>(conPoly[i]); <span class="hljs-comment">//找每个近似曲线的最小上边界矩形</span><br><br><span class="hljs-type">int</span> objCor = (<span class="hljs-type">int</span>)conPoly[i].<span class="hljs-built_in">size</span>();<span class="hljs-comment">//获取当前轮廓的顶点数。conPoly[i] 是第 i 个轮廓的多边形近似，size() 方法返回顶点的数量。</span><br><br><span class="hljs-keyword">if</span> (objCor == <span class="hljs-number">3</span>) &#123; objectType = <span class="hljs-string">&quot;Tri&quot;</span>; &#125;<span class="hljs-comment">//如果顶点数为3，那么对象被认为是一个三角形（Tri）。</span><br><span class="hljs-keyword">if</span> (objCor == <span class="hljs-number">4</span>) &#123; <span class="hljs-comment">//如果顶点数为4，进一步检查对象的宽高比来确定它是正方形还是矩形。</span><br><br><span class="hljs-type">float</span> aspRatio = (<span class="hljs-type">float</span>)boundRect[i].width / boundRect[i].height; <span class="hljs-comment">//宽高比</span><br>cout &lt;&lt; aspRatio &lt;&lt; endl;<br><span class="hljs-keyword">if</span> (aspRatio &gt; <span class="hljs-number">0.95</span> &amp;&amp; aspRatio &lt; <span class="hljs-number">1.05</span>) &#123;<br>objectType = <span class="hljs-string">&quot;Square&quot;</span>;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>objectType = <span class="hljs-string">&quot;Rect&quot;</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span> (objCor &gt; <span class="hljs-number">4</span>) &#123; objectType = <span class="hljs-string">&quot;CirCle&quot;</span>; &#125;<br><br><span class="hljs-built_in">drawContours</span>(img, conPoly, i, <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">2</span>); <span class="hljs-comment">//绘制滤除噪声后的所有轮廓</span><br><span class="hljs-built_in">rectangle</span>(img, boundRect[i].<span class="hljs-built_in">tl</span>(), boundRect[i].<span class="hljs-built_in">br</span>(), <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>), <span class="hljs-number">5</span>); <span class="hljs-comment">//绘制边界框</span><br><span class="hljs-built_in">putText</span>(img, objectType, &#123; boundRect[i].x, boundRect[i].y - <span class="hljs-number">5</span> &#125;, FONT_HERSHEY_PLAIN, <span class="hljs-number">1</span>, <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">0</span>, <span class="hljs-number">69</span>, <span class="hljs-number">255</span>), <span class="hljs-number">1</span>);<br>&#125;<br>&#125; <br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>string path = <span class="hljs-string">&quot;../lesson1_pictureRead/img1.jpg&quot;</span>;<br>Mat img = <span class="hljs-built_in">imread</span>(path);<br>Mat imgGray, imgBlur, imgCanny, imgDil;<br><br><span class="hljs-comment">// Preprocessing</span><br><span class="hljs-built_in">cvtColor</span>(img, imgGray, COLOR_BGR2GRAY);<br><span class="hljs-built_in">GaussianBlur</span>(imgGray, imgBlur, <span class="hljs-built_in">Size</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), <span class="hljs-number">3</span>, <span class="hljs-number">0</span>);<br><span class="hljs-built_in">Canny</span>(imgBlur, imgCanny, <span class="hljs-number">75</span>, <span class="hljs-number">125</span>);<br>Mat kernel = <span class="hljs-built_in">getStructuringElement</span>(MORPH_RECT, <span class="hljs-built_in">Size</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>));<br><span class="hljs-built_in">dilate</span>(imgCanny, imgDil, kernel);<br><br><span class="hljs-built_in">getContours</span>(imgDil, img);<br><br>    <span class="hljs-built_in">namedWindow</span>(<span class="hljs-string">&quot;Image&quot;</span>,WINDOW_NORMAL);<br><span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br><span class="hljs-comment">/*imshow(&quot;Image Gray&quot;, imgGray);</span><br><span class="hljs-comment">imshow(&quot;Image Blur&quot;, imgBlur);</span><br><span class="hljs-comment">imshow(&quot;Image Canny&quot;, imgCanny);*/</span><br><span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image Dil&quot;</span>, imgDil);<br><br><span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E8%BD%AE%E5%BB%93%E6%A3%80%E6%B5%8B.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第十课 颜色检测</title>
    <link href="/2024/10/14/%E7%AC%AC10%E8%AF%BE%20%E9%A2%9C%E8%89%B2%E6%A3%80%E6%B5%8B/"/>
    <url>/2024/10/14/%E7%AC%AC10%E8%AF%BE%20%E9%A2%9C%E8%89%B2%E6%A3%80%E6%B5%8B/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::inRange</span> <span class="hljs-params">(InputArray src, InputArray lowerb, InputArray upperb, OutputArray dst)</span></span><br></code></pre></td></tr></table></figure><p>检查数组元素是否位于其他两个数组的元素之间。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::namedWindow</span> <span class="hljs-params">(<span class="hljs-type">const</span> String &amp;winname, <span class="hljs-type">int</span> flags = WINDOW_AUTOSIZE)</span></span><br></code></pre></td></tr></table></figure><p>创建一个窗口。函数namedWindow创建一个可用作图像和轨迹栏占位符的窗口。创建的窗口由它们的名称引用。如果同名的窗口已经存在，则该函数不执行任何操作。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">cv::createTrackbar</span> <span class="hljs-params">(<span class="hljs-type">const</span> String &amp;trackbarname, <span class="hljs-type">const</span> String &amp;winname, <span class="hljs-type">int</span> *value, <span class="hljs-type">int</span> count, TrackbarCallback onChange = <span class="hljs-number">0</span>, <span class="hljs-type">void</span> *userdata = <span class="hljs-number">0</span>)</span></span><br></code></pre></td></tr></table></figure><p>创建一个trackbar并将其附加到指定窗口。函数createTrackbar创建一个具有指定名称和范围的trackbar（滑块或范围控件），分配一个变量值作为与trackbar同步的位置，并指定回调函数onChange为 在跟踪栏位置变化时被调用。创建的轨迹栏显示在指定的窗口winname中。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>Mat imgHSV, mask;<br><span class="hljs-type">int</span> hmin = <span class="hljs-number">0</span>, smin = <span class="hljs-number">110</span>, vmin = <span class="hljs-number">153</span>;<br><span class="hljs-type">int</span> hmax = <span class="hljs-number">19</span>, smax = <span class="hljs-number">240</span>, vmax = <span class="hljs-number">255</span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string path = <span class="hljs-string">&quot;../lesson1_pictureRead/img1.jpg&quot;</span>;<br>    Mat img = <span class="hljs-built_in">imread</span>(path);<br>    <span class="hljs-built_in">cvtColor</span>(img, imgHSV, COLOR_BGR2HSV);<br>    <span class="hljs-built_in">namedWindow</span>(<span class="hljs-string">&quot;Trackbars&quot;</span>, (<span class="hljs-number">640</span>, <span class="hljs-number">200</span>));<br>    <span class="hljs-built_in">createTrackbar</span>(<span class="hljs-string">&quot;Hue Min&quot;</span>, <span class="hljs-string">&quot;Trackbars&quot;</span>, &amp;hmin, <span class="hljs-number">179</span>);<br>    <span class="hljs-built_in">createTrackbar</span>(<span class="hljs-string">&quot;Hue Max&quot;</span>, <span class="hljs-string">&quot;Trackbars&quot;</span>, &amp;hmax, <span class="hljs-number">179</span>);<br>    <span class="hljs-built_in">createTrackbar</span>(<span class="hljs-string">&quot;Sat Min&quot;</span>, <span class="hljs-string">&quot;Trackbars&quot;</span>, &amp;smin, <span class="hljs-number">255</span>);<br>    <span class="hljs-built_in">createTrackbar</span>(<span class="hljs-string">&quot;Sat Max&quot;</span>, <span class="hljs-string">&quot;Trackbars&quot;</span>, &amp;smax, <span class="hljs-number">255</span>);<br>    <span class="hljs-built_in">createTrackbar</span>(<span class="hljs-string">&quot;Val Min&quot;</span>, <span class="hljs-string">&quot;Trackbars&quot;</span>, &amp;vmin, <span class="hljs-number">255</span>);<br>    <span class="hljs-built_in">createTrackbar</span>(<span class="hljs-string">&quot;Val Max&quot;</span>, <span class="hljs-string">&quot;Trackbars&quot;</span>, &amp;vmax, <span class="hljs-number">255</span>);<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-function">Scalar <span class="hljs-title">lower</span><span class="hljs-params">(hmin, smin, vmin)</span></span>;<br>        <span class="hljs-function">Scalar <span class="hljs-title">upper</span><span class="hljs-params">(hmax, smax, vmax)</span></span>;<br>        <span class="hljs-built_in">inRange</span>(imgHSV, lower, upper, mask);<br>        <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>        <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image HSV&quot;</span>, imgHSV);<br>        <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image Mask&quot;</span>, mask);<br>        <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E9%A2%9C%E8%89%B2%E6%A3%80%E6%B5%8B.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第九课 透视变换</title>
    <link href="/2024/10/14/%E7%AC%AC9%E8%AF%BE%20%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2/"/>
    <url>/2024/10/14/%E7%AC%AC9%E8%AF%BE%20%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">Mat <span class="hljs-title">cv::getPerspectiveTransform</span> <span class="hljs-params">(<span class="hljs-type">const</span> Point2f src[], <span class="hljs-type">const</span> Point2f dst[])</span></span><br></code></pre></td></tr></table></figure><p>返回相应 4 个点对的 3x3 透视变换。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::warpPerspective</span> <span class="hljs-params">(InputArray src, OutputArray dst, InputArray M, Size dsize, <span class="hljs-type">int</span> flags=INTER_LINEAR, <span class="hljs-type">int</span> borderMode=BORDER_CONSTANT, <span class="hljs-type">const</span> Scalar &amp;borderValue=Scalar())</span></span><br></code></pre></td></tr></table></figure><p>对图像应用透视变换。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">float</span> w = <span class="hljs-number">250</span>, h = <span class="hljs-number">350</span>;<br>Mat matrix, imgWarp;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string path = <span class="hljs-string">&quot;card.jpg&quot;</span>;<br>    Mat img = <span class="hljs-built_in">imread</span>(path);<br>    std::cout &lt;&lt; img.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;<br>    Point2f src[<span class="hljs-number">4</span>] = &#123; &#123;<span class="hljs-number">245</span>, <span class="hljs-number">1098</span>&#125;, &#123;<span class="hljs-number">1611</span>, <span class="hljs-number">513</span>&#125;,  &#123;<span class="hljs-number">1836</span>, <span class="hljs-number">3490</span>&#125;,&#123;<span class="hljs-number">3002</span>, <span class="hljs-number">2491</span>&#125;&#125;;<br>    Point2f dst[<span class="hljs-number">4</span>] = &#123; &#123;<span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>&#125;, &#123;w, <span class="hljs-number">0.0f</span>&#125;, &#123;<span class="hljs-number">0.0f</span>, h&#125;, &#123;w, h&#125; &#125;;<br>    matrix = <span class="hljs-built_in">getPerspectiveTransform</span>(src, dst);<br>    <span class="hljs-built_in">warpPerspective</span>(img, imgWarp, matrix, <span class="hljs-built_in">Point</span>(w, h));<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) &#123;<br>        <span class="hljs-built_in">circle</span>(img, src[i], <span class="hljs-number">10</span>, <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), FILLED);<br>    &#125;<br><br>    <span class="hljs-built_in">namedWindow</span>(<span class="hljs-string">&quot;Image&quot;</span>,WINDOW_NORMAL);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageWarp&quot;</span>, imgWarp);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E5%8D%A1%E7%89%87%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第八课 形状字体</title>
    <link href="/2024/10/14/%E7%AC%AC8%E8%AF%BE%20%E5%BD%A2%E7%8A%B6%E5%AD%97%E4%BD%93/"/>
    <url>/2024/10/14/%E7%AC%AC8%E8%AF%BE%20%E5%BD%A2%E7%8A%B6%E5%AD%97%E4%BD%93/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">Mat</span>(<span class="hljs-type">int</span> rows, <span class="hljs-type">int</span> cols, <span class="hljs-type">int</span> type, <span class="hljs-type">const</span> Scalar &amp;s)<br></code></pre></td></tr></table></figure><p>重载的构造函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::circle</span><span class="hljs-params">(InputOutputArray img, Point center, <span class="hljs-type">int</span> radius, <span class="hljs-type">const</span> Scalar &amp;color, <span class="hljs-type">int</span> thickness=<span class="hljs-number">1</span>, <span class="hljs-type">int</span> lineType=LINE_8, <span class="hljs-type">int</span> shift=<span class="hljs-number">0</span>)</span></span><br></code></pre></td></tr></table></figure><p>函数 cv::circle 用给定的中心和半径绘制一个简单的或实心圆。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::rectangle</span><span class="hljs-params">(InputOutputArray img, Point pt1, Point pt2, <span class="hljs-type">const</span> Scalar &amp;color, <span class="hljs-type">int</span> thickness=<span class="hljs-number">1</span>, <span class="hljs-type">int</span> lineType=LINE_8, <span class="hljs-type">int</span> shift=<span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::rectangle</span><span class="hljs-params">(Mat &amp;img, Rect rec, <span class="hljs-type">const</span> Scalar &amp;color, <span class="hljs-type">int</span> thickness=<span class="hljs-number">1</span>, <span class="hljs-type">int</span> lineType=LINE_8, <span class="hljs-type">int</span> shift=<span class="hljs-number">0</span>)</span></span><br></code></pre></td></tr></table></figure><p>绘制一个简单的、粗的或填充的右上矩形。函数 cv::rectangle 绘制一个矩形轮廓或两个对角为 pt1 和 pt2 的填充矩形。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::line</span> <span class="hljs-params">(InputOutputArray img, Point pt1, Point pt2, <span class="hljs-type">const</span> Scalar &amp;color, <span class="hljs-type">int</span> thickness=<span class="hljs-number">1</span>, <span class="hljs-type">int</span> lineType=LINE_8, <span class="hljs-type">int</span> shift=<span class="hljs-number">0</span>)</span></span><br></code></pre></td></tr></table></figure><p>绘制连接两点的线段。函数line绘制图像中 pt1 和 pt2 点之间的线段。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::putText</span> <span class="hljs-params">(InputOutputArray img, <span class="hljs-type">const</span> String &amp;text, Point org, <span class="hljs-type">int</span> fontFace, <span class="hljs-type">double</span> fontScale, Scalar color, <span class="hljs-type">int</span> thickness=<span class="hljs-number">1</span>, <span class="hljs-type">int</span> lineType=LINE_8, <span class="hljs-type">bool</span> bottomLeftOrigin=<span class="hljs-literal">false</span>)</span></span><br></code></pre></td></tr></table></figure><p>绘制一个文本字符串。函数 cv::putText 在图像中呈现指定的文本字符串。无法使用指定字体呈现的符号将替换为问号。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//Blank Image</span><br>    <span class="hljs-function">Mat <span class="hljs-title">img</span><span class="hljs-params">(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, CV_8UC3, Scalar(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>))</span></span>;<br>    <span class="hljs-built_in">circle</span>(img, <span class="hljs-built_in">Point</span>(<span class="hljs-number">256</span>, <span class="hljs-number">256</span>), <span class="hljs-number">155</span>, <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">0</span>, <span class="hljs-number">69</span>, <span class="hljs-number">255</span>), FILLED);<br>    <span class="hljs-built_in">rectangle</span>(img, <span class="hljs-built_in">Point</span>(<span class="hljs-number">130</span>, <span class="hljs-number">226</span>), <span class="hljs-built_in">Point</span>(<span class="hljs-number">382</span>, <span class="hljs-number">286</span>), <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>), <span class="hljs-number">-1</span>);<br>    <span class="hljs-built_in">line</span>(img, <span class="hljs-built_in">Point</span>(<span class="hljs-number">130</span>, <span class="hljs-number">296</span>), <span class="hljs-built_in">Point</span>(<span class="hljs-number">382</span>, <span class="hljs-number">296</span>), <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>), <span class="hljs-number">2</span>);<br>    <span class="hljs-built_in">putText</span>(img, <span class="hljs-string">&quot;TCY&#x27;s Workshop&quot;</span>, <span class="hljs-built_in">Point</span>(<span class="hljs-number">137</span>, <span class="hljs-number">262</span>), FONT_HERSHEY_DUPLEX, <span class="hljs-number">0.95</span>, <span class="hljs-built_in">Scalar</span>(<span class="hljs-number">0</span>, <span class="hljs-number">69</span>, <span class="hljs-number">255</span>), <span class="hljs-number">2</span>);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E5%9B%BE%E6%A0%87.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第七课 调整裁剪</title>
    <link href="/2024/10/14/%E7%AC%AC7%E8%AF%BE%20%E8%B0%83%E6%95%B4%E8%A3%81%E5%89%AA/"/>
    <url>/2024/10/14/%E7%AC%AC7%E8%AF%BE%20%E8%B0%83%E6%95%B4%E8%A3%81%E5%89%AA/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::resize</span><span class="hljs-params">(InputArray src, OutputArray dst, Size dsize, <span class="hljs-type">double</span> fx=<span class="hljs-number">0</span>, <span class="hljs-type">double</span> fy=<span class="hljs-number">0</span>, <span class="hljs-type">int</span> interpolation = INTER_LINEAR)</span></span><br></code></pre></td></tr></table></figure><p>调整图像的大小。函数 resize 将图像 src 的大小缩小到或最大到指定的大小。请注意，不考虑初始 dst 类型或大小。相反，大小和类型是从 src、dsize、fx 和 fy 派生的。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::string path = <span class="hljs-string">&quot;../lesson1_pictureRead/img1.jpg&quot;</span>;<br>    cv::Mat img = <span class="hljs-built_in">imread</span>(path);<br>    cv::Mat imgResize, imgCrop;<br>    std::cout &lt;&lt; img.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;<br>    <span class="hljs-built_in">resize</span>(img, imgResize, <span class="hljs-built_in">Size</span>(), <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>);<br>    <span class="hljs-function">Rect <span class="hljs-title">my_roi</span><span class="hljs-params">(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>)</span></span>;<br>    imgCrop = <span class="hljs-built_in">img</span>(my_roi);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageResize&quot;</span>, imgResize);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageCrop&quot;</span>, imgCrop);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E8%B0%83%E6%95%B4%E8%A3%81%E5%89%AA.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第六课 腐蚀膨胀</title>
    <link href="/2024/10/14/%E7%AC%AC6%E8%AF%BE%20%20%E8%85%90%E8%9A%80%E8%86%A8%E8%83%80/"/>
    <url>/2024/10/14/%E7%AC%AC6%E8%AF%BE%20%20%E8%85%90%E8%9A%80%E8%86%A8%E8%83%80/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">Mat <span class="hljs-title">cv::getStructuringElement</span><span class="hljs-params">(<span class="hljs-type">int</span> shape, Size ksize, Point anchor = Point(<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>))</span></span><br></code></pre></td></tr></table></figure><p>返回指定大小和形状的结构元素，用于形态学操作。该函数构造并返回可以进一步传递给腐蚀、扩张或形态学的结构元素。 但是您也可以自己构建任意二进制掩码并将其用作结构元素。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::dilate</span><span class="hljs-params">(InputArray src, OutputArray dst, InuputArray kernel, Point anchor = Point(<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>), <span class="hljs-type">int</span> iterations = <span class="hljs-number">1</span>, <span class="hljs-type">int</span> borderType = BORDER_CONSTANT, <span class="hljs-type">const</span> Scalar &amp;borderValue = morphologyDefaultBorderValue())</span></span><br></code></pre></td></tr></table></figure><p>使用特定的结构元素膨胀图像。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::erode</span><span class="hljs-params">(InputArray src, OutputArray dst, InuputArray kernel, Point anchor = Point(<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>), <span class="hljs-type">int</span> iterations = <span class="hljs-number">1</span>, <span class="hljs-type">int</span> borderType = BORDER_CONSTANT, <span class="hljs-type">const</span> Scalar &amp;borderValue = morphologyDefaultBorderValue())</span></span><br></code></pre></td></tr></table></figure><p>使用特定的结构元素腐蚀图像。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string path = <span class="hljs-string">&quot;../lesson1_pictureRead/img1.jpg&quot;</span>;<br>    Mat img = <span class="hljs-built_in">imread</span>(path);<br>    Mat imgBlur,imgCanny,imgDilate,imgErode;<br>    <span class="hljs-built_in">GaussianBlur</span>(img, imgBlur, <span class="hljs-built_in">Size</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), <span class="hljs-number">3</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">//高斯模糊</span><br>    <span class="hljs-built_in">Canny</span>(imgBlur, imgCanny, <span class="hljs-number">75</span>, <span class="hljs-number">125</span>); <span class="hljs-comment">//边缘检测</span><br>    Mat kernel = <span class="hljs-built_in">getStructuringElement</span>(MORPH_RECT,<span class="hljs-built_in">Size</span>(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>));<span class="hljs-comment">//得到形态学结构的核</span><br>    <span class="hljs-built_in">dilate</span>(imgCanny,imgDilate,kernel);<br>    <span class="hljs-built_in">erode</span>(imgDilate,imgErode,kernel);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageDilation&quot;</span>, imgDilate);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageErode&quot;</span>, imgErode);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E8%85%90%E8%9A%80%E8%86%A8%E8%83%80.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第五课 Canny边缘</title>
    <link href="/2024/10/14/%E7%AC%AC5%E8%AF%BE%20Canny%E8%BE%B9%E7%BC%98/"/>
    <url>/2024/10/14/%E7%AC%AC5%E8%AF%BE%20Canny%E8%BE%B9%E7%BC%98/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::Canny</span><span class="hljs-params">(InputArray image, OutputArray edges, <span class="hljs-type">double</span> threshold1, <span class="hljs-type">double</span> threshold2, <span class="hljs-type">int</span> apertureSize = <span class="hljs-number">3</span>, <span class="hljs-type">bool</span> L2gradient = <span class="hljs-literal">false</span>)</span></span><br></code></pre></td></tr></table></figure><p>使用 Canny 算法在图像中查找边缘。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string path = <span class="hljs-string">&quot;../lesson1_pictureRead/img1.jpg&quot;</span>;<br>    Mat img = <span class="hljs-built_in">imread</span>(path);<br>    Mat imgBlur,imgCanny;<br>    <span class="hljs-built_in">GaussianBlur</span>(img, imgBlur, <span class="hljs-built_in">Size</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), <span class="hljs-number">3</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">//高斯模糊</span><br>    <span class="hljs-built_in">Canny</span>(imgBlur, imgCanny, <span class="hljs-number">75</span>, <span class="hljs-number">125</span>); <span class="hljs-comment">//边缘检测</span><br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageCanny&quot;</span>, imgCanny);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E8%BE%B9%E7%BC%98/Canny%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第四课 高斯模糊</title>
    <link href="/2024/10/14/%E7%AC%AC4%E8%AF%BE%20%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A/"/>
    <url>/2024/10/14/%E7%AC%AC4%E8%AF%BE%20%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::GaussianBlur</span><span class="hljs-params">(InputArray src, OutputArray dst, Size ksize, <span class="hljs-type">double</span> sigmaX, doube sigmaY = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> borderType = BORDER_DEFAULT)</span></span><br></code></pre></td></tr></table></figure><p>使用高斯滤波器模糊图像。该函数将源图像与指定的高斯核进行卷积。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string path = <span class="hljs-string">&quot;../lesson1_pictureRead/img1.jpg&quot;</span>;<br>    Mat img = <span class="hljs-built_in">imread</span>(path);<br>    Mat imgBlur;<br>    <span class="hljs-built_in">GaussianBlur</span>(img, imgBlur, <span class="hljs-built_in">Size</span>(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>),<span class="hljs-number">3</span>,<span class="hljs-number">1</span>); <span class="hljs-comment">//高斯模糊</span><br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageBlur&quot;</span>, imgBlur);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第三课 颜色空间</title>
    <link href="/2024/10/14/%E7%AC%AC3%E8%AF%BE%20%E9%A2%9C%E8%89%B2%E7%A9%BA%E9%97%B4/"/>
    <url>/2024/10/14/%E7%AC%AC3%E8%AF%BE%20%E9%A2%9C%E8%89%B2%E7%A9%BA%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cv::cvtColor</span><span class="hljs-params">(InputArray src, OutputArray dst, <span class="hljs-type">int</span> code, <span class="hljs-type">int</span> dstCn = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span><br></code></pre></td></tr></table></figure><pre><code class="hljs">将图像从一种颜色空间转换为另一种颜色空间。该函数将输入图像从一种颜色空间转换为另一种颜色空间。在从 RGB 颜色空间转换的情况下，应明确指定通道的顺序（RGB 或 BGR）。man请注意，OpenCV 中的默认颜色格式通常称为 RGB，但实际上是 BGR（字节反转）。因此，标准（24 位）彩色图像中的第一个字节将是 8 位蓝色分量，第二个字节将是绿色，第三个字节将是红色。 然后第四、第五和第六个字节将是第二个像素（蓝色，然后是绿色，然后是红色），依此类推。</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string path = <span class="hljs-string">&quot;../lesson1_pictureRead/img1.jpg&quot;</span>;<br>    Mat img = <span class="hljs-built_in">imread</span>(path);<br>    Mat imgGray;<br>    <span class="hljs-built_in">cvtColor</span>(img, imgGray, COLOR_BGR2GRAY); <span class="hljs-comment">//灰度化</span><br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;ImageGray&quot;</span>, imgGray);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/%E7%81%B0%E5%BA%A6%E5%8C%96.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第二课 读取视频</title>
    <link href="/2024/10/14/%E7%AC%AC2%E8%AF%BE%20%E8%AF%BB%E5%8F%96%E8%A7%86%E9%A2%91/"/>
    <url>/2024/10/14/%E7%AC%AC2%E8%AF%BE%20%E8%AF%BB%E5%8F%96%E8%A7%86%E9%A2%91/</url>
    
    <content type="html"><![CDATA[<p>[[OpenCV C++ 基础#^029230|捕获视频]]需要创建一个VideoCapture对象。它的参数可以是视频文件的名称或设备索引。<br>VideoCapture类构造函数及成员函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++">cv::VideoCapture::<span class="hljs-built_in">VideoCapture</span>()<br>cv::VideoCapture::<span class="hljs-built_in">VideoCapture</span>(<span class="hljs-type">const</span> String &amp;filename)<br>cv::VideoCapture::<span class="hljs-built_in">VideoCapture</span>(<span class="hljs-type">const</span> String &amp;filename, <span class="hljs-type">int</span> apiPreference)<br>cv::VideoCapture::<span class="hljs-built_in">VideoCapture</span>(<span class="hljs-type">int</span> index)<br>cv::VideoCapture::<span class="hljs-built_in">VideoCapture</span>(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> apiPreference)<br></code></pre></td></tr></table></figure><p>打开视频文件或捕获设备或 IP 视频流进行视频捕获。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> cv::VideoCapture::<span class="hljs-built_in">isOpened</span>() <span class="hljs-type">const</span><br></code></pre></td></tr></table></figure><p>如果视频捕获已经初始化，则返回true。如果先前对 VideoCapture 构造函数或VideoCapture::open()的调用成功，则该方法返回 true。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> cv::VideoCapture::<span class="hljs-built_in">read</span>(OutputArray image)<br></code></pre></td></tr></table></figure><p>抓取、解码并返回下一个视频帧。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">virtual</span> <span class="hljs-type">double</span> cv::VideoCapture::<span class="hljs-built_in">get</span>(<span class="hljs-type">int</span> proId) <span class="hljs-type">const</span><br></code></pre></td></tr></table></figure><p>返回指定的VideoCapture属性。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">virtual</span> <span class="hljs-type">double</span> cv::VideoCapture::<span class="hljs-built_in">set</span>(<span class="hljs-type">int</span> proId, <span class="hljs-type">double</span> value)<br></code></pre></td></tr></table></figure><p>在VideoCapture中设置一个属性。</p><p>[[1.Function]]代码展示</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;opencv2/imgcodecs.hpp&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;opencv2/highgui.hpp&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;opencv2/imgproc.hpp&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">VideoCapture <span class="hljs-title">VC</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;<br>    cv::Mat img;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>    &#123;<br>        VC.<span class="hljs-built_in">read</span>(img);<br>        <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;img&quot;</span>,img);<br>        <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>&lt;opencv&gt;第一课 读取图片</title>
    <link href="/2024/10/14/%E7%AC%AC1%E8%AF%BE%20%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87/"/>
    <url>/2024/10/14/%E7%AC%AC1%E8%AF%BE%20%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87/</url>
    
    <content type="html"><![CDATA[<p>[[OpenCV C++ 基础#^2cd5e7|读取图片imread]]</p><p><strong>从文件加载图像</strong>。函数<code>imread</code>从指定文件加载图像并返回。 如果无法读取图像（由于缺少文件、权限不正确、格式不受支持或无效），该函数将返回一个空矩阵（ <code>Mat::data==NULL</code> ）。在<a href="https://so.csdn.net/so/search?q=%E5%BD%A9%E8%89%B2%E5%9B%BE%E5%83%8F&spm=1001.2101.3001.7020">彩色图像</a>的情况下，解码图像的通道将以 B G R 顺序存储。</p><p>[[OpenCV C++ 基础#^89ea11|图片显示imshow]]</p><p>在指定窗口中显示图像。这个函数后面应该是 cv::waitKey 函数，它显示指定毫秒的图像。否则，它不会显示图像。例如，waitKey(0) 将无限显示窗口，直到有任何按键（适用于图像显示）。 waitKey(25) 将显示一帧 25 毫秒，之后显示将自动关闭。（如果你把它放在一个循环中读取视频，它会逐帧显示视频）</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">cv::waitKey</span><span class="hljs-params">(<span class="hljs-type">int</span> delay = <span class="hljs-number">0</span>)</span></span><br></code></pre></td></tr></table></figure><p>等待按下的键。函数 waitKey 无限等待按键事件（当 delay≤0 时）或延迟毫秒，当它为正时。由于操作系统在切换线程之间有最短时间，因此该函数不会完全等待延迟毫秒，它会至少等待延迟毫秒，具体取决于当时您计算机上正在运行的其他内容。如果在指定的时间过去之前没有按下任何键，则返回被按下键的代码或 -1。</p><p>[[1.Function]]代码展示</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgcodecs.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2/imgproc.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>string path = <span class="hljs-string">&quot;C:/Users/DELL/Desktop/20240920/C++opencv/img1.jpg&quot;</span>;<br>cv::Mat img = <span class="hljs-built_in">imread</span>(path);<br><span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;Image&quot;</span>, img);<br><span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">//显示图片不会一闪而过</span><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="从文件读取图片"><a href="#从文件读取图片" class="headerlink" title="从文件读取图片"></a>从文件读取图片</h4><table><thead><tr><th>模块</th><th>功能</th></tr></thead><tbody><tr><td>imgcodecs</td><td>Image file reading and writing</td></tr><tr><td>imgproc</td><td>Image Procssing</td></tr><tr><td>highgui</td><td>High-level GUI</td></tr></tbody></table><p>运行结果展示</p><p><img src="/%E7%AC%AC1%E8%AF%BE%20%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87/%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87.png"></p>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>song</title>
    <link href="/2024/10/12/%E6%B5%8B%E8%AF%95%E9%A1%B5/"/>
    <url>/2024/10/12/%E6%B5%8B%E8%AF%95%E9%A1%B5/</url>
    
    <content type="html"><![CDATA[<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=1904965745&bvid=BV1aU411Z7sm&cid=1556521831&p=1" width="100%" height="500" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" allowfullscreen="allowfullscreen"sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe></div>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Blog美化方案</title>
    <link href="/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/"/>
    <url>/2024/10/12/Blog%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="解密失败，try again？" data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容">  <script id="hbeData" type="hbeData" data-hmacdigest="235a41ee79c767dd629f4c0e4c98aa08d76a7ec4a9ab7ee883f791a7fd8fcdad">a0235b8f304e9f615d8601cf846ed1ae1cc8b0f58be18a0b50dd08618fe71042bcdfbd2d3f8e3c1f5544b9a4684ba352e11f40e0de4febdfe867fa13a3a832d10fbec3a11ae3846305fc91bf65924dfe190fb7536efd1af12cf715b34ff39f3a6ef005eb67b504476dc0ba12435393b66c8190efd187f59dc75a78123dab2e889843db8710e3e21f73a7dfbfea5270ea2f2c0df8a68fe47230d0d6a202342a91cbff3943042d322aecf30905225376f179c0633d86fbed513f01fa1f41143805418ddb79a04624048d4946507be1def10222bc1c96eddd6e1f8e396c47e551aaa200ee8a9d337042f9f389bbbcd4c9cc58f7201bff842db9b4c0346aa56b03b87f20259e2ad005a6b1091c707d8354c6e459b31d5f293e2bbbeaa0062d45d0e60d64606f3526da8484bd5c3520fbe365d3fb23f6cbbb596c27675602708d1cb5143db61624f83e0f89862a68c9de9a3a81093bdec0112bb48c7951d953b7ee1e4b4b8c7fd7e38d41413da10ebe971ab20d094a4741991c165b1a407ad8341b12ac8ff0b1de39a180af50cc4cb8a015a4337947f17acf493000e4f81a25f0268f1fa621ff0fba16e2bcaf72cb79e573346029fdcd7db35debd2685b5c7058e4385f80eb8a0e9eb9b3da44cf3d2d6187532df1c594f1e3a9818a3344bdb87f300e0bd450b21c418c05d59c54f7d5a17a44cf2b5edc1775a8c663b79753534972387716d2375e6e3efd27f334cd9a38dc49038fce9339a71f34cc3d57cf9779f72e36d89549ff2fbc73fab000df686c255a71101a42ca63691732ae0214873610452b6f046f1e5b32da66d3b9612f240463af65571e7c8c7ec5282fd29becc8d03e77208f508fe19b2b6644ea9ca67ade8638f5a2c8ef98c32e95f73403b21560e15d16dc12d6be370207445d1b17f8a3df3c682c27cfda90ddff5a8cb7559423bd5b477d04421622744c2d949f6d420e2ff944ca43527ffb1541a5c10203436e8732561b2c783fad7e65a7b4b0a11c3007c3db847b27a23c678cfd1c76823a832620db1beb2589426aaa2d162c3297867da3b75d31096b6b182063d09527f8f86ac16cfd9403358a4d689367e4c06d598a4fc87a529d377d7c5f3a463f0ad73385cab37dd563de23d6963210a01968caab7f766ec1e6404c18ed5a49922e060e9522340027ce8eaeda355bb5b23a8cc085c7bc7ec24f9b469c96021934cccef3bdb11487f1914be475de1723642950ca57e21207081872543135e73f89129dd1dbd75667d860a3fb9abb8e9a8a022a9fd28e2661bf82437f63e2596335e5a508e05fa376a2e598502d2fb7c0ae7b428c45a82356d4eb9ae106111a32173f863beede248cfa7faa567e24c2d0a39cbba83c7f014a3c70dc2f12bc682dc13eb1d9dead1b8f8385226778bc06639701068230e589599b3104b1b6f0aaf9385eaba20764a1b5c1731c084d665a4ffe5bcb947d1a07b0ebbfcf8831e5ac5505e4b9d0efede310764ceab130e3519ca2ce2eef597cf270c15995dff34445d635738560829182968e6c6a8800b3b3fe0bac2417fcb50401c3f41f724f3580472b78636fcbd53a93b6d6309e68bcd03e12d059b75012f3c0ee724852dee02baf6da6ad69e2bc249b32ba80d0ad9f323ee4a98ebda3917069c0aaffd287cdea7b3a52b6a88aaa7d2dda201a17ea235a0239129653adf97dc4110acaf6c18215e02f797e2c8698411f74326a78fa577e130b2acbe9bb5b4f86cc9a1015b0255c91157b0e3fe3ab6c2cc63099ef5ae171820d77f10d0a3dc6bb0b8b85a7e150bda63a17182fba0f4614f1ff547d18d1fb1fdb270cca808f140d520c65b0fea44320f717f34a305d861e1d176aa20f613938ff9b1001194433b0aaa177309032fc02996e895bad2118689fe4f87e5079333b31455a99ff269f8048f8a1783376dd1f0a23956c2737e94e8effc42d46dbb88319433b5a6d3317aa739332f81f4fb14a7c3e61271d797d9e9122a37d902cd9052943c924571c2c0ddf91b4322e18f9024c4d7809887738d72336bd711f313698c2cb8729f01cda7d7e0f551f35c45c9509f5727682a184bd9937ba41ecad308ce389209c690bf60ab9ab231bc4825c151e467ee36f867b912be4a0fb1dbaecd897d80f5e2dfad078997fa96044d4f2d93d37e90d3aa5f6fdaf8e4723237e640736d1ffb38d57d530d1f8d05e10278dd9716ee3a83781c187c0c2cd92be78d03bfa95ddfee5d49a13b8934510c5a3f11fb61383d2c7177c204d67b70fb2e70ae89eabad51dc42aaa2fc380f70205d78e83e6ffe81bf0804403ab836655d589b10d2cab72a68f6a87961990fd61ee5a7f6ad54d99fc1fbabd59f3adb753d16651b53a75590d42d63325c93d53213a82b68168b1ef674d80fb3ac0198ab4f7212055f9e62e8dd5fc5be71118fc6cb5d176e3f92b4e14e849aac5d70b900c6d913d5b278e4a787d835460b041667774e73afc0693765792c48ebbc13e7ad354a5b56ecf4bed2557e5a0f6928516a6135c5475977d8f7d5e3fb9f410268eec6bc53b58ac86b264b6ad1a375c9a619d705b82e21bd90f1b21d9f024f9f2bad02c93a3d0652baf1bb226d65d344bfa7b8f401998db00e6195ae00cc71d6af06b3fa35429a3c89ecc68a717589062b386adc5efc0523aa6e87b42b4bdfa9e73f10da55a81f6fe9f0cfedb5151d91104b8cbf67c8888f5111dc861d843b6062b46897da5de28fec08e559dca1ed0101e8fcbe9424669ba497e0465e6f212d17a6a94c8d59733645e37d5905113f22423b1fa83abf466f59f62c0cf48d008e8b726bbeb5b22c454121a549a41447267ec529d87e73da0a1d90e621c487657ff0d76ca3a13cda551379763bed59b09679e03251e5aa12d3fd95b92dfb20e8080c74ea75d9e3f5c2ac204e3711b62a7b30040bcbbbfb36c169bc53333f20feb05b4bf427f0b30da919e20aaa6e173da69eefbec6aef771f19620bf2bad4a21f0baf7d193f6564122901d71d313e26fbde04d85f3b2ec2855da0cca0a4e8f6b2626ca99ff018a438451bb5a28f28cbef4282f29410001ec69c882ca7a849d55acedc022cc2c49f2410afa9d6024a5b1651e488bf988c49decf74896cb63a67cdcb692fca8a43c3b71259530ef2a8225f878cfb7e398185d776b722df09f4796399128a43d113df79415f844d3ef067a7081c3d89d1ffc8fa1430aceeceb1f7a714bb65d606503a75f5749eb52809da29ff241b773f231fcf497caefc80a64ecd41bebf0d7cdca5c32d4f8af9a6307bc4376aa4dbd589eaa7a56deb0a5207cd66769f2cc5f72a75e79a1ce256dca8fae84bfe95ad176dc17bed38c2f044f45b958432ae98e59c9c01275f6c5aff58d0243721190c2fa2a6df4fffeed86b4ac6e476ee5db70ec782a2b0a386748eefb7b9ca024c6b2af257ca264cadd546f2a941030ed401c9c4a432582a4db75363c27aacf83ec55a84b7ee68d7c9ae60987c69ba129dd811b3de0a297188bf914e3e22f03ad37b7785623015e530b16265411518bb3a2a4573f108eb9f2674a7ec398d8da33d6e7b990e886ae1b2352e95ecfcb2ac0095872b156c8565996f481b6d99fbd6b0e5f3d5931b5ad5021599936ab637518f50441ffacda9a3f97e6cc19df156599d969ef4b4905a649b4567d18a32fc42d93821123911623b7eac81277dbd3fae6cfcad6f4af7cda6f570e6e66ea46264ab53148c6c9d8fe172e344debf1b517843ab91e6f9e84ac035b16b296cc8f138d71a37d797ba819c8e8bc21a093428db4be660ae4f042b9722756e455449c25e1da747217a2bd2725076c64ab731040aa95adc2602ae054e0454785fe03476fc1e8ace6ac1c004344fad94737873b760ee19d274f0ffb62dfaa7e84a1efdf8d77c25c80988da0613f214fda0c8b4d33795bfab77c8643b7db174eecd22043fa3f95a2d56121c198e04789f974822613ac3843a962880e8755cc3202a4db79695f822b49d76caee1b7c39d6d0c299b6750b443a3ed08058896a30d09610ba0fec75e507225dd92a80d83edafb4f91008ae50a71f37472f646465f9c472053c5988efc9faa09e313082f9c64bca25b1cdb5cb7b3857b9b981d743bf410c42c05b89a575e97bc4f13dc21d803a2a142348ab9d518cbbabbc0d5629381481dcf5869f219abbd690062dfd2ca6203ffd4ea280bd112f40e0a8c7e79f03670b0dfe061b249543a4ccdbd8dad6b89c1cc8c12202870877d72014774f49737c621ba289f70d9032e9ea40889d00ad96c47c9bf35d8062de66e3f236dfef4c9035b420c1abe680bf146dd2104db8f74be5b1a61d7d4e658491d3778867dbb2e4d956ba684337f1b37c1f2cb2f56092284faeac7d84a0944157d906dd3325f272c9d8f6cac56c5149c6453bdfb2682e73643b690cb8345af0f196993363d69f9adb40013f04c2b603c297ae1a8d9bb45ee335ae12b50d020a3284cf81155c3633c2f1c6e716d54b46abc4e5b4d97f5db2f84f09958c973a17007af195bf0529c8eee84aa3541d0341c9f71c6f69cbb0f6203a2d661b0994e9fac919e431d1c555523c1b2a7ad92603cbf5dfe1a8a5ad172b4eb79da553069679f1174fe9024a5423391a6b2912202a31fc7ae7fb358cac98501064726805192529b632b78f00629d3ebc2bc41a5a8654ea356d1f9b61c9aa415833463bea79ba26a5965dd1b376acbf2193189169d02f224303d4fa4307fb2c986bb0a53ae71c8648936bf6c7ff95b9944d9302e9b5b7246469479840e230d045969845f7ae6564626a788f6a63e915e7407189c600ce9d1c2ab0fb2484319bc2a7fca68051a03d0f385a7a91f8409401be52e55e193639dd2a08575ae9d0f2131c20e3cb5a63c4f788a7d9120806006eb55d72e2b1a67752de23df0b619fd46231caecf5ef8ad59aa0ecd8d10dc66924fb000e37a5e859eb257cabd2c9a379a7a27fc540c04ec1f84e7fa5022c1d5b5fd014a8ff84a929faa03d44e74c40b607dda8eaa78fa2378d127758ef1b9462244f7b6eeee57b0db991c9c709099ef44304d989ef2df3f4dd48ab21c87b722128f62237d1e87993c84970c0a4005e5b5681dde5b785eab33dceb16e997d59ebd5d09149e41ee735c922c05038466fcf84da32a6db93d82226ca0477e68453d8e6757f4d54832ba2f2285bf5b5a94216e1a9f681d506feaa00faad8bf4d3a1975f882709733786437aa6bae1f5c9008f9ef689f9220b569a91656a41c72be09dabb220689af9ea79fdc5f2c945cdaef764274fc6650d238b2568e1ef289232bba71f65960a65e33d632fc7434a4aaea7cba8c2d75b6c579e010e5a41027398506e0cb6e4deeeec1ca9215e51830a9c3e061bf3fe6c6d4ba2045143f794b1aedbd3f31f1f707cbb3ea2834b52165bc24f5fa6dd9bfdbecc8d9f5fdc9a2edef13d38d5ef37f159106ce38f1a4adaffdc341f11ac1f64c578b6a4e45eb1c4c6af93b7cc983050d3440ddf970e1aa67327af80f74f241f971344b305aa5f4225fb0fca4f7da24b0ed8e48c2087e4662b142cfd3078d8aa9946cd0dc56054ac2a3a0d39c0bac2d84e049feebee6b3c77caeecb4e201e9c6c123a07ed87cc8bb6dbafa1b116070d118454f78ea62d0edae0f302498608e57e802c7da71efcdc5afbae752df9b1a2a7b9db664d63ad994cff305c7ca23cab37c9e259764021633ec1b7cf88104d39e00fb1acd41072c07431846d7de3ac90eeb33f90e628a670dade98f6375a464fea2330545a2f1a5a8a409b78d71c371345c114314f47a7d0012bd3d01b629928dc449ab04741ee43891fd509ac57240ee77e13ba1ec8c3da57e7a3941e1301fba69463d1c1fa6cef43fc9038fc5ad7913ba098daab696cfbc3ce7cc29b2f6f198a38f604fb34794bc475ace810be2662579c9ec085b2b134e8fd6e5792a140eb85b5285c1545e911e8140eacb9c34e33b4e205c53f4e923ca9068294445588b61d93630be46d389b183403b40ce713b969a2c3ef2914b528af18ce223ff8b86fa4278255178db437224ef643eaf3481887c0d969db413958858062285731989cafc54f82748484bfd5d80a9ace8e1a73bdef3d128cc5de252ee963691f8de6384f84abb6d563510616796ed730170c2eac9577362e769cc7aaab58deebbb75f66907edc7e51292ea78c90d87df9087292f0957838f44ca1eb66a11f7417395f528837e2ecd2ffa63cb918bea8e26d9de733f4c2303aa31ca50ebd6ea321aa76154f00d49a474944435c65a918027a25f9ab94e921fb32b59b198a3714f643ec06eadb38407c038939c1109e9e7a7e5f556eb401bcd70b5a2106473808470eee016f2b476ba1085644ca3e4dc6a87b26aa7afbbfc8776b8f9b116681735467bb04f615ef7f9f69acd8a077b63aa2d48592af89d7c2c767f8605ffc3cff7d0982d00b6f17a6b263aaa539b775036953e7157d282f0920359139f360b55c8f14b6577051390b9004ac25ce17e6c33224b334ff54ca2041ea0835d4a8363c46b76013e25efd158e11ddb14766711f3f79b8a308a1dc0dda713cd08ce364b94ce78d855a54b2fda1a1426335196757744e5fbe25c26ace2890d73d3d904797f6d042e42ae97c71b463f7e4c3f1b73724d0f16e9acbeade9fa3ddbbdc25d568b595ba7a800c278e583027e8c00580c35e78aeb4c976122f0759c015d3ceb951336f5751793161424595a81b684a904721a54db30f79cfd5a693846555399d2b5ca7ca9ac4341ba9cdb0e831ece85153cab68a0af40bfbf26b646307107e3facace05e0588358cd1263270799008ab2e2940e7b3fc8d33140b7a12733effef221994c6d8c93cd702dd8edb6c0eaf645c15c10d18ad4d40ef0cf96adfa2a7e2cdee4cc85c6b26d50fce44f1c2100668a19b806ff9fc096a50af22968aa9c1d7a03c4a4b3c84638c65beb8b44ab25679f4e52612cb0663b2213679ce04412a75e36ea482edbbd7d3629cef162666f1cff8cb966f609a5c6e464fe587df94215b3b76d5d91af22640f2aa9eb81a0ec26441ba55d56c005ea21ea06c527c5622b69e929f286fe2fa37948c78fc232f09d565281dded760c758c4f778f1a5225a2eea23b155a32ec4e01b00f726945992b4179c71b1f968730892ad817430399f959c668d1392da58ec6b8f28f79d84c197a7f6fe8db1e9b1c04d469a74749f1fe9406aa6633c87f60f22a42f178cb6d2ab6587ac468255dbe36d3852d4f5f813e39e9bb4b9e289b619bd690e8b42f260b85540c5f1b43d3c2dc5922b45405812a5cf67191eeec563ad82e40be176be199f004f688c9b18b5deec799b6f6c0e9b60c7c9097679824dc66399b871aa376e07dba3e6ad080ca1b95cf0699f8b336b70920400bb4cd608ecb58284cc6cc5a003bfe9e8ced09be13117100af7a9d25cbcb9864f6286a1a5ad0f0e725b25eab793e266dc27281e3c95c42eb5b4d3c4120762cf2fa4ef2a17867629606a8cc589b09515f9c78af3c84c4c8f997c097bf11a382d79ac9b948db98243fdf98baeba1c1238be4fadee196ac2e9d493c3976c9d74f13b6fdae0bfc4b7f243adc3ae307286bd2788fe8a7f4934546c5ed283c6a4c033b493a41bd66f408bac97b822923081f6fcf97ff033737c8b2e3806b6c92045e16e85cc27e14939a0d4b37a050fa77646b4ac27c73a13fe65003c17c2725430afcd6b3fa2cf9426f30664879f7ef04ff744577765a9044fc79411c5fb29a63738295c3ba6d8307308ee96be93004a84012c843744e54cbdd5d02576a32f445fa456112c905a5a8e7dbe3d367deb8f4d208f9cb2c8ad5f17f4bb8bebf8f8b9a175f067b8136939da3959d68cfcd3b3f6fec7a20935dd13c1c7543efd9c3c90bc86f5caf858994fa2849b291169d01957fa59fada886d777472cb1acc4de4d2a90852946199ffa1186b1bbe1b2798fc1c92a0ca960e13fb9fac712e168ea7aa56fce30142de8053d4ba35e702e950ee54b6aa9060c02862d8126bb624d9367fc2e8018cd92ca3cbc4f4ceee41e14d4e722a44a7966885290eb53d49fe1e22d068aa48cb1b68e234b297b0d8a05d38898afb3e7111bc9ccef94fa499b25e5e2b104e34905bfb1e6a8c51be9c35bb1bb9418e62475f8c5148865a2e9e70edcba8e3ad6a15d70dcbf7674b996af53a6051defe06535c217c742295c3f4d5d76798ed1527bd5d3d04e60bd21273149e371c8117b6232e4ebd34f081c5d5484b493de6398a48956efb0cc0828a8c52c55ada6395d63eeac4801f195dc518b06b778977f0d3bfb6017102de64a42375582627c25c9dabd46f9cf902e073a63a32a9601c8aa16ade55174cbc9cd4929987d4d9d6c239e53debc9b12c47bdb5974f427a9fa52d25142afd2e87a76e8664d79070299dd4cc772a1160301af88390caa8cd4f0b39b5b3f9aa39bcf2d3584f68096ad8dcc1889eacc5831d5ec7bc638410fb2fbf2b1edf0fb943e34ad9a2a2c64b4fca0525064c86463c16eee0c7fe5a8f99799b1959083cfcf22a73fb55982117f52ee45ca90f8fe29122b35d2cb05b29073b710a857b7a31335c9d111e8647f9689df174cce225b730a4b0aa8e9b1b648261539f1ecaee0322f408bed53d37c4f68fc62fb97d5d9ac20a3ecbb85a574f1c3f286c6f91a973a3b62231b197473ac604c53d0e9b631543b94f882c349b0a74919ad6a88482a04e8cd7080794d7788e77c1eaee0b43efaae716e62314bbd69939e8de7eab5f3fc5a38a469d2b18661a6ae1c85f4364eabb98eeb718220347f45d28ab5976c24735be3b76935f86df621f43adf320e3a380e810b2fc9b2768aa2291c9f068fb52b8f3d8506656fd39be2b9fb05cb326fc81665a5852aff086cd689da5d22affae30c34b15d2faf8b14998751798e2938a7e4468fed3c987cc3758bea7d77b70bd53cf5f4404fa2afd1498d244517739e09e60d56f49a18e36011af1fef1a361ecf14a19b743488e2cb1800c401ae5aa0c55b945bfdfec7f5bb61dfd874d0a8c2d0d50b150e4a45d6233656f428a2017d80bd0936a9c8598ed01338cccec2d6919bf9c889c90ccad19c70c6ff1b676e6d072c2a2483b2f165ec3f5ecfee58635e5ca167b3478552eb2f55ec2b218652611986bdfcae9b389757de59cb9313b38cfd24932b3a14ebd3c8347f6c8fc2ddac0b165bcfcb919402be3bf70981098a48055ce86958b5520977034f8b2ca97fe27212abe56523c5bb6c91f765dedb85f065fdb3e9aac5146ff530b591161e8839c1c5da5ba4a44703203bbd4c45bd52f88782ecc6ffa2e00c4943398412ed2bbc0d8c662c3e1a78d2edb90fa16d2878588f6af0db0994669d3a2d050c5f08cadd42b6ce5f72ceb2bbd98ff9802c5f5f821746a70bbd76f02df40d75824ea8e576d20acf7f84f96baaa30e979eb6bfcf4d7061b33283cbb4bd55ae2d42c6be3f4f34482a5ff0e7bb3c7c028d0d028ad5ac9a3ffef32114a067f10ea0ba2cd7a0e630e3ca212c6f6e416104c915725ef27fbda00f010035e90c875cef2b42179136de91ef4a4363e0f717692af8a252a2b73065ee90d684a9a496958fcf8b0f8452be21a8a324034ee062e45de0bf5cb5d4c940c187e887571114e3113a6d1bce538b816446229895cbbb53e7bec7e162cfc41d7bf9d020047547072086296e32bb4937636ae74a95a4f8c53695dc2fafa7e1d16f37e104e700bb67c0b138e1331b17f3fb9c63cde820d4fd5387153a252fe28af5cc04101893397de31d3fffa5c5441cd9668f401e85fa4b33992c0f33e43813497947bf021c82fafb8734b46c74727d7c46ef3aafa16eb8ac6b5fde67e27d74a62abbfe35e00cb69c6848b78ae8791eb67e8bf560e07c85812fc8dac6ecd8dc65a21ffaca4c666312eb2e5912f165e951bea1d58e94cf1791fd29645b1b6d0173a041d9af66a75aa33e8554378bd7759d74097371bee38a1f42fc7ed240cf0ab590ff8e9f16c3e333aa1a5b5b4a1da782b815145dab96191f659f00c13bf7d717c8fda9994d341980fe71cd952a6a3b5d9fcdfc0a6870f9e13563f23c7b0d7d18d6eae824fdd3e266724f0a26ca499a4220200497f9683980bae364938cfce5b0cb0fe444605c454258dfccf5db142f0088af49890a71c7213039462512ccdc623fe7dae35192099c850a3b7ee1ac24a5491823ff1046e4c3fb6ed20ea88d55cfe872eed89e3304d35bf87bd082c5f360eb1ab2684457856a1a574993318a3f0e2833cac86e20f741b341a8c5419a191b26c447e82b067824e8022c7562f830bdd0211438b6fdb20096f6308ff02de7469b7f3</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>VSCode配置Opencv环境</title>
    <link href="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/"/>
    <url>/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/</url>
    
    <content type="html"><![CDATA[    <div id="aplayer-jourxKqx" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="1985510682" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div><h3 id="1-安装VS-Code"><a href="#1-安装VS-Code" class="headerlink" title="1.安装VS Code"></a>1.安装VS Code</h3><h3 id="2-安装MinGW"><a href="#2-安装MinGW" class="headerlink" title="2.安装MinGW"></a>2.安装MinGW</h3><p>解压[[MinGW-w64]]压缩包，将该文件夹的bin路径添加到环境变量的系统变量中<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/mingw64%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE.png"><br>Win+R，cmd调出控制台，检查MinGW-w64是否安装成功，若成功则如下图所示：</p><p><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/MinGW%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png"></p><h3 id="3-安装CMake"><a href="#3-安装CMake" class="headerlink" title="3.安装CMake"></a>3.安装CMake</h3><p>将[[CMake]]安装包解压，文件夹如图所示：<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/CMake%E6%96%87%E4%BB%B6%E5%A4%B9.png"><br>将该文件夹下的bin文件路径添加到环境变量的系统变量中：<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/CMake%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png"></p><p>Win+R，cmd调出控制台，检查CMake是否安装成功，若成功则如下图所示：<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/CMake%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png"></p><h3 id="4-OpenCV"><a href="#4-OpenCV" class="headerlink" title="4.OpenCV"></a>4.OpenCV</h3><p>安装完OpenCV后，在 build\x64 路径下新建一个文件夹（可自起，这里是 MinGW ）</p><h3 id="5-生成MakeFiles"><a href="#5-生成MakeFiles" class="headerlink" title="5.生成MakeFiles"></a>5.生成MakeFiles</h3><p>进入D:\cmake-3.29.4-windows-x86_64\bin :</p><p>打开cmake-gui，选择OpenCV的源文件路径和MakeFiles保存路径（即之前新建的MinGW）：</p><p>点击Configure，弹窗配置如下，点击Next：</p><p>选择前面安装的D:&#x2F;mingw64&#x2F;bin文件夹下的gcc.exe和g++.exe，点击Finsh:</p><p>–&gt;耐心等待中。。。<br>  执行过程中消息框会出现一堆红色信息，最后显示Configure done，是正常的。显示Configure done后，勾选BUILD_ opencv_world、WITH_ OPENGL和BUILD EXAMPLES，不勾选WITH_IPP、WITH_MSMF和ENABLE_PRECOMPILED_HEADERS (如果有的话)，CPU_ DISPATCH选空。再次点击Configure<br>  –&gt;耐心等待中。。。<br>  这次执行完后仍有错误如下：</p><p>由于网络问题（最好用梯子），仍然会有文件没有成功下载，这个时候需要手动下载它们。在自创建的MinGW下的CMakeDownloadLog.txt文件中列出了所有丢失文件的下载链接，比如：</p><p><a href="https://raw.githubusercontent.com/opencv/opencv_3rdparty/4d348507d156ec797a88a887cfa7f9129a35afac/ffmpeg/opencv_videoio_ffmpeg.dll">https://raw.githubusercontent.com/opencv/opencv_3rdparty/4d348507d156ec797a88a887cfa7f9129a35afac/ffmpeg/opencv_videoio_ffmpeg.dll</a></p><p>一个个访问这些链接，下载后放到OpenCV源文件里.cache的相应子文件夹中替代原缓存文件（下载的文件重命名为相应地缓存文件名并删除原缓存文件）。</p><p>附一个找了很久的仓库链接：<a href="https://github.com/opencv/opencv_3rdparty/blob/ffmpeg/4.x_20240522_src/ffmpeg/ffmpeg_version.cmake">opencv_3rdparty&#x2F;ffmpeg&#x2F;ffmpeg_version.cmake at ffmpeg&#x2F;4.x_20240522_src · opencv&#x2F;opencv_3rdparty · GitHub</a><br>附一个经验贴：<br><a href="https://blog.csdn.net/qq_34801642/article/details/105577349">学习OpenCV3：Cmake编译OpenCV时无法下载ffmpeg、xfeatures2d等文件_ffmpeg: download failed: 6;”couldn’t resolve host -CSDN博客</a><br>或者按这个来：<br><a href="https://blog.csdn.net/martinkeith/article/details/108002333">cmake编译Opencv出现ffmpeg_cmake手动下载后也无法使用问题_opencv 编译 ffmpeg 无法打开-CSDN博客</a></p><p>这样从头到尾下载CMakeDownloadLog.txt中列出的所有丢失文件，之后，再次点击Configure，出现configure down之后查看CMakeDownloadLog.txt文件，成功了显示下图：</p><p><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E6%88%90%E5%8A%9F%E7%9A%84txt.png"><br>之后点击Generate，显示Generate Done。<br><img src="/CMakle%20Generate.png"></p><h3 id="6-编译OpenCV"><a href="#6-编译OpenCV" class="headerlink" title="6.编译OpenCV"></a>6.编译OpenCV</h3><p>使用 cmake 时要求安装 python3（版本没有限制，比2高就行），并且python 必须配好了环境变量。<br>cmd到MakeFiles所在文件夹（<a href="https://blog.csdn.net/weixin_42809924/article/details/104929103" title="如何cmd">如何cmd</a>），执行如下命令：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">mingw32-make -j <span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><p>如果遇到以下错误<br><a href="https://blog.csdn.net/cicy5219/article/details/131494138">mingw32-make: *** No targets specified and no makefile found. Stop. in VSCODE win10-CSDN博客</a>很可能只是你没有cmd到makefiles那里执行，就是自建的&#x2F;x64&#x2F;MinGW那里</p><p><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/opencv%E6%BA%90%E6%96%87%E4%BB%B6%E7%BC%96%E8%AF%91%E4%B8%AD.png"><br>编译进行中<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/opencv%E6%BA%90%E6%96%87%E4%BB%B6%E7%BC%96%E8%AF%91%E5%AE%8C%E6%88%90.png"><br>编译完成<br>如果报错可查阅<a href="https://blog.huihut.com/2018/07/31/CompiledOpenCVWithMinGW64/" title="编译报错解答">编译报错解答</a>，如果编译成功则执行如下命令完成装载：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go">mingw32-<span class="hljs-built_in">make</span> install<br></code></pre></td></tr></table></figure><p>装载完成后<br>将D:\opencv\build\x64\MinGW\bin加到环境变量的系统变量中：​​​​​​​<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/MinGW%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png"></p><h3 id="7-VS-Code配置"><a href="#7-VS-Code配置" class="headerlink" title="7.VS Code配置"></a>7.VS Code配置</h3><p>（1）launch.json配置</p><p><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/launch%E9%85%8D%E7%BD%AE.png"><br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/C++GDB.png"><br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/launchjson.png"></p><p>  在生成的launch.json文件中复制一下代码（需要配置miDebuggerPath项，注意修改name、preLaunchTask的 opencv版本号）：</p><p>{</p><pre><code class="hljs">&quot;version&quot;: &quot;0.2.0&quot;,&quot;configurations&quot;: [    &#123;        &quot;name&quot;: &quot;opencv4.5.5 debuge&quot;,        &quot;type&quot;: &quot;cppdbg&quot;,        &quot;request&quot;: &quot;launch&quot;,        &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;,        &quot;args&quot;: [],        &quot;stopAtEntry&quot;: true,        &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,        &quot;environment&quot;: [],        &quot;externalConsole&quot;: true,        &quot;MIMode&quot;: &quot;gdb&quot;,        &quot;miDebuggerPath&quot;: &quot;D:/mingw64/bin/gdb.exe&quot;,        &quot;setupCommands&quot;: [            &#123;                &quot;description&quot;: &quot;为 gdb 启用整齐打印&quot;,                &quot;text&quot;: &quot;-enable-pretty-printing&quot;,                &quot;ignoreFailures&quot;: false            &#125;        ],        &quot;preLaunchTask&quot;: &quot;opencv4.5.5 compile task&quot;    &#125;]</code></pre><p>}<br>比如我更改为<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E6%9B%B4%E6%94%B9launchjson.png"></p><p>c_cpp_properties.json配置</p><p>  按快捷键crtl+shift+p，出现如下弹窗：（也可以自己手敲）<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E9%85%8D%E7%BD%AEccppproperties.png">  点击C&#x2F;C++:Edit Confighrations(UI)进行如下配置：<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/Configuration.png"><br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/Configuration2.png"><br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/Configuration3.png"><br>  配置完成会自动生成c_cpp_properties.json文件：<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E9%85%8D%E7%BD%AE%E5%AE%8C%E6%88%90%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90cppp.png"></p><p>settings.json配置<br>  按ctrl+, 出现如下弹窗，输入code-runner:Executor Map，点击下方的 Edit in settings.json</p><p>点击 Edit in settings.json之后会生成settigs.json（该文件地址是：C:\Users\WCJ\AppData\Roaming\Code\User\settings.json），在生成的settings.json中复制如下代码（注意修改cpp项的地址和链接插件）：</p><p>{<br>    “workbench.colorTheme”: “Default Light+”,<br>    “editor.suggest.snippetsPreventQuickSuggestions”: false,<br>    “code-runner.runInTerminal”: true,<br>    “files.autoSave”: “afterDelay”,<br>    “code-runner.executorMap”: {</p><pre><code class="hljs">    &quot;javascript&quot;: &quot;node&quot;,    &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,    &quot;c&quot;: &quot;cd $dir &amp;&amp; gcc $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;cpp&quot;:&quot;cd $dir &amp;&amp; g++ $fileName -o $fileNameWithoutExt -I D:/opencv/build/include -L D:/opencv/build/x64/MinGW/bin  -l libopencv_world455 -l opencv_videoio_ffmpeg455_64 &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;objective-c&quot;: &quot;cd $dir &amp;&amp; gcc -framework Cocoa $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;php&quot;: &quot;php&quot;,    &quot;python&quot;: &quot;python -u&quot;,    &quot;perl&quot;: &quot;perl&quot;,    &quot;perl6&quot;: &quot;perl6&quot;,    &quot;ruby&quot;: &quot;ruby&quot;,    &quot;go&quot;: &quot;go run&quot;,    &quot;lua&quot;: &quot;lua&quot;,    &quot;groovy&quot;: &quot;groovy&quot;,    &quot;powershell&quot;: &quot;powershell -ExecutionPolicy ByPass -File&quot;,    &quot;bat&quot;: &quot;cmd /c&quot;,    &quot;shellscript&quot;: &quot;bash&quot;,    &quot;fsharp&quot;: &quot;fsi&quot;,    &quot;csharp&quot;: &quot;scriptcs&quot;,    &quot;vbscript&quot;: &quot;cscript //Nologo&quot;,    &quot;typescript&quot;: &quot;ts-node&quot;,    &quot;coffeescript&quot;: &quot;coffee&quot;,    &quot;scala&quot;: &quot;scala&quot;,    &quot;swift&quot;: &quot;swift&quot;,    &quot;julia&quot;: &quot;julia&quot;,    &quot;crystal&quot;: &quot;crystal&quot;,    &quot;ocaml&quot;: &quot;ocaml&quot;,    &quot;r&quot;: &quot;Rscript&quot;,    &quot;applescript&quot;: &quot;osascript&quot;,    &quot;clojure&quot;: &quot;lein exec&quot;,    &quot;haxe&quot;: &quot;haxe --cwd $dirWithoutTrailingSlash --run $fileNameWithoutExt&quot;,    &quot;rust&quot;: &quot;cd $dir &amp;&amp; rustc $fileName &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;racket&quot;: &quot;racket&quot;,    &quot;scheme&quot;: &quot;csi -script&quot;,    &quot;ahk&quot;: &quot;autohotkey&quot;,    &quot;autoit&quot;: &quot;autoit3&quot;,    &quot;dart&quot;: &quot;dart&quot;,    &quot;pascal&quot;: &quot;cd $dir &amp;&amp; fpc $fileName &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;d&quot;: &quot;cd $dir &amp;&amp; dmd $fileName &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;haskell&quot;: &quot;runhaskell&quot;,    &quot;nim&quot;: &quot;nim compile --verbosity:0 --hints:off --run&quot;,    &quot;lisp&quot;: &quot;sbcl --script&quot;,    &quot;kit&quot;: &quot;kitc --run&quot;,    &quot;v&quot;: &quot;v run&quot;,    &quot;sass&quot;: &quot;sass --style expanded&quot;,    &quot;scss&quot;: &quot;scss --style expanded&quot;,    &quot;less&quot;: &quot;cd $dir &amp;&amp; lessc $fileName $fileNameWithoutExt.css&quot;,    &quot;FortranFreeForm&quot;: &quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;fortran-modern&quot;: &quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;fortran_fixed-form&quot;: &quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;,    &quot;fortran&quot;: &quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;&#125;,&quot;window.zoomLevel&quot;: 1,&quot;files.associations&quot;: &#123;    &quot;iostream&quot;: &quot;cpp&quot;,    &quot;ostream&quot;: &quot;cpp&quot;&#125;</code></pre><p>}<br>主要修改cpp项<br>-I<br>-L<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E9%93%BE%E6%8E%A5%E5%99%A81.png"><br>-i<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E9%93%BE%E6%8E%A5%E5%99%A82.png"><br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E9%93%BE%E6%8E%A5%E5%99%A83.png"><br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E4%BF%AE%E6%94%B9settingjson.png"><br>最后完成修改。</p><p>上述过程配合一个新建的例程测试，这里提供如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2\highgui\highgui.hpp&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;opencv2\opencv.hpp&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string path = <span class="hljs-string">&quot;C:/Users/DELL/Desktop/20240920/C++opencv/img1.jpg&quot;</span>;<br>    cv::Mat img = <span class="hljs-built_in">imread</span>(path);<br>    <span class="hljs-built_in">imshow</span>(<span class="hljs-string">&quot;img&quot;</span>,img);<br>    <span class="hljs-built_in">waitKey</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="8-运行测试"><a href="#8-运行测试" class="headerlink" title="8.运行测试"></a>8.运行测试</h3><p>运行结果如下，测试成功<br><img src="/2024/10/11/VSCode%E9%85%8D%E7%BD%AEOpencv%E7%8E%AF%E5%A2%83/%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87.png"></p><span id="busuanzi_container_page_pv">  ...已获取<span id="busuanzi_value_page_pv"></span>份浏览之力...</span>]]></content>
    
    
    <categories>
      
      <category>Tech</category>
      
    </categories>
    
    
    <tags>
      
      <tag>opencv</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>71SB</title>
    <link href="/2024/10/11/Hello%20World/"/>
    <url>/2024/10/11/Hello%20World/</url>
    
    <content type="html"><![CDATA[<h2 id="今晚三角洲"><a href="#今晚三角洲" class="headerlink" title="今晚三角洲"></a>今晚三角洲</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
